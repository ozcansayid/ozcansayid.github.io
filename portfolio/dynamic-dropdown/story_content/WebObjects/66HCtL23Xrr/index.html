<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Storyline Bootstrap Dropdown</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Saydamlık için ana container'a uygulanacak stil */
        body, html {
            background-color: transparent !important;
        }

        /* Özel boyutlandırma için CSS */
        .dropdown-menu-button-custom {
            font-size: 1.5rem; /* Buton yazı boyutu */
            height: 60px; /* Buton yüksekliği */
            width: 300px; /* Buton genişliği */
            display: flex; /* Buton içeriğini hizalamak için */
            align-items: center; /* Dikeyde ortala */
        }
        
        .dropdown-menu-custom {
            width: 300px; /* Menü genişliği */
        }

        .dropdown-menu-custom .dropdown-item {
            font-size: 1.2rem; /* Menü öğeleri yazı boyutu */
        }
    </style>
</head>
<body class="p-3">

<div class="dropdown">
    <button class="btn btn-light dropdown-toggle dropdown-menu-button-custom" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
        Seçiniz
    </button>
    <ul class="dropdown-menu dropdown-menu-custom" aria-labelledby="dropdownMenuButton" id="dropdownList">
        </ul>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
    function initDropdown() {
        let player = parent.GetPlayer();

        let jsonString = player.GetVar("json_data");

        try {
            let data = JSON.parse(jsonString);
            let dropdownList = document.getElementById("dropdownList");
            dropdownList.innerHTML = "";

            data.forEach(item => {
                let li = document.createElement("li");
                let a = document.createElement("a");
                a.className = "dropdown-item";
                a.href = "#";
                a.innerText = item.text;

                a.addEventListener("click", () => {
                    player.SetVar("dropdown_active", item.text);
                    document.getElementById("dropdownMenuButton").innerText = item.text;
                });

                li.appendChild(a);
                dropdownList.appendChild(li);
            });

        } catch (e) {
            console.error("JSON parse hatası:", e);
        }
    }

    window.onload = initDropdown;
</script>
</body>
</html>